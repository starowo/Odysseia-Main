# 轮换通知 - 快速开始指南

## 🚀 快速开始

### 1. 启用模块

编辑 `config.json`，在 `cogs` 部分添加：

```json
{
  "cogs": {
    "banner": {
      "enabled": true,
      "description": "轮换通知功能"
    }
  }
}
```

### 2. 设置权限

确保机器人在服务器中拥有以下权限：
- ✅ Manage Events（管理活动）
- ✅ View Channels（查看频道）

### 3. 添加第一个通知

使用 Discord 斜杠命令：

```
/轮换通知 添加
  id: event001
  标题: 欢迎参加活动
  描述: 这是一个测试活动
  位置: 活动大厅
```

### 4. 添加更多通知

```
/轮换通知 添加
  id: event002
  标题: 创作比赛
  描述: 参与创作比赛，赢取丰厚奖励！
  位置: 创作频道
```

### 5. 设置切换频率

设置为每小时切换一次（3600秒）：

```
/轮换通知 切换频率 间隔时间: 3600
```

### 6. 查看效果

- 查看服务器的 "活动" 标签
- 会看到一个自动创建的 Scheduled Event
- 等待设定的时间后，Event 会自动切换到下一个条目

## 📋 常用场景

### 场景1: 每日活动提醒

```
# 早上活动
/轮换通知 添加
  id: morning
  标题: 早安问候
  描述: 新的一天开始了，欢迎大家！
  位置: 大厅

# 下午活动
/轮换通知 添加
  id: afternoon
  标题: 下午茶时间
  描述: 放松一下，聊聊天吧
  位置: 聊天频道

# 晚间活动
/轮换通知 添加
  id: evening
  标题: 晚间聚会
  描述: 一起玩游戏、看电影！
  位置: 娱乐频道

# 设置每8小时切换（28800秒）
/轮换通知 切换频率 间隔时间: 28800
```

### 场景2: 创作比赛轮播

```
# 绘画比赛
/轮换通知 添加
  id: art_contest
  标题: 🎨 绘画比赛进行中
  描述: 主题：春天的色彩
  位置: 绘画频道
  封面图: [上传比赛海报]

# 写作比赛
/轮换通知 添加
  id: writing_contest
  标题: ✍️ 写作比赛火热进行
  描述: 主题：时光旅行
  位置: 写作频道
  封面图: [上传比赛海报]

# 音乐比赛
/轮换通知 添加
  id: music_contest
  标题: 🎵 音乐创作大赛
  描述: 展示你的音乐才华！
  位置: 音乐频道
  封面图: [上传比赛海报]

# 设置每2小时切换（7200秒）
/轮换通知 切换频率 间隔时间: 7200
```

### 场景3: 重要公告循环

```
# 服务器规则
/轮换通知 添加
  id: rules
  标题: 📜 服务器规则
  描述: 请阅读并遵守服务器规则
  位置: 规则频道

# 新手指南
/轮换通知 添加
  id: guide
  标题: 📖 新手指南
  描述: 新来的朋友请看这里！
  位置: 新手频道

# 联系方式
/轮换通知 添加
  id: contact
  标题: 📞 联系管理
  描述: 需要帮助？请联系管理员
  位置: 帮助频道

# 设置每30分钟切换（1800秒）
/轮换通知 切换频率 间隔时间: 1800
```

## 🛠️ 管理技巧

### 查看当前状态

```
/轮换通知 列表
```

这会显示：
- 所有条目详情
- 当前切换频率
- 当前显示的条目（用 🔹 标记）

### 编辑已有条目

```
/轮换通知 编辑
  id: event001
  标题: 新的标题
  描述: 更新后的描述
  位置: 新的位置
```

### 删除不需要的条目

```
/轮换通知 删除 id: event001
```

### 暂停轮换

有两种方式：

1. **删除所有条目**（会自动删除 Event）
```
/轮换通知 删除 id: event001
/轮换通知 删除 id: event002
...
```

2. **设置很长的间隔**（比如 1 天）
```
/轮换通知 切换频率 间隔时间: 86400
```

## ⚙️ 高级设置

### 时间换算表

| 时长 | 秒数 |
|------|------|
| 1 分钟 | 60 |
| 5 分钟 | 300 |
| 10 分钟 | 600 |
| 30 分钟 | 1800 |
| 1 小时 | 3600 |
| 2 小时 | 7200 |
| 4 小时 | 14400 |
| 6 小时 | 21600 |
| 12 小时 | 43200 |
| 1 天 | 86400 |

### 最佳实践

1. **ID 命名建议**
   - 使用有意义的标识符
   - 例如：`weekly_event`, `art_contest`, `morning_greeting`
   - 避免使用：`1`, `a`, `temp`

2. **标题长度**
   - 建议不超过 50 个字符
   - 简洁明了，一目了然

3. **描述内容**
   - 提供足够的信息
   - 可以包含时间、地点、要求等
   - 建议 100-200 字符

4. **位置信息**
   - 可以是频道名称
   - 可以是实体地址
   - 可以是 URL

5. **封面图片**
   - 推荐尺寸：16:9 比例
   - 格式：PNG、JPG
   - 大小：不超过 10MB

6. **切换频率**
   - 根据内容重要性决定
   - 重要公告：短间隔（30分钟-1小时）
   - 一般活动：中等间隔（2-4小时）
   - 长期项目：长间隔（12-24小时）

## ❓ 常见问题

### Q: 为什么添加条目后没有立即显示？

A: Event 会在添加后约 10 秒开始显示，这是为了给系统预留准备时间。

### Q: 可以同时显示多个 Event 吗？

A: 不可以，系统每次只会创建和管理一个 Event，自动轮换显示不同的内容。

### Q: 如果手动删除了 Discord 上的 Event 会怎样？

A: 系统会在下次检查时（最多1分钟）发现 Event 不存在，并自动创建一个新的。

### Q: 可以设置不同时间段显示不同的通知吗？

A: 当前版本按顺序循环显示。如需时间段功能，可以手动调整条目顺序或使用多个服务器。

### Q: 条目数量有限制吗？

A: 理论上没有限制，但建议不超过 10 个条目，以保持管理的便利性。

## 🔧 故障排除

### Event 没有创建

检查：
1. 机器人是否有 "Manage Events" 权限
2. 是否至少添加了一个条目
3. 查看日志是否有错误信息

### Event 没有轮换

检查：
1. 是否设置了合理的切换频率（≥60秒）
2. 是否有多个条目（至少2个）
3. 后台任务是否正常运行

### 封面图片没有显示

可能原因：
1. 图片链接已失效
2. 图片格式不支持
3. 图片大小超限

解决方法：
- 重新上传图片
- 使用标准格式（PNG/JPG）

## 📞 获取帮助

如遇到问题，请：
1. 查看日志文件 `logs/`
2. 检查配置文件 `config.json`
3. 查看完整文档 `docs/轮换通知功能说明.md`
4. 联系开发者或管理员

---

**祝使用愉快！** 🎉

